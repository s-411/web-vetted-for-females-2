<!DOCTYPE html>
<html class="light" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Settings - Vetted</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet"/>
    <!-- Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        :root {
            /* Primary Brand Colors */
            --color-primary: #7f13ec;
            --color-primary-hover: #6b0fcc;
            --color-primary-dark: #4c0b8f;
            --color-primary-light: #a855f7;

            /* Secondary / Accent Colors */
            --color-accent: #d4af37;
            --color-accent-light: #f3e5ab;
            --color-accent-hover: #c9a227;

            /* Neutral / Base Colors */
            --color-plum: #2a173b;
            --color-plum-light: #4a2c63;
            --color-plum-muted: rgba(42, 23, 59, 0.6);

            /* Background Colors */
            --color-bg-primary: #f7f4ed;
            --color-bg-secondary: #ffffff;
            --color-bg-tertiary: #f8f7f4;
            --color-bg-sidebar: var(--color-plum);
            --color-bg-card: var(--color-bg-secondary);

            /* Text Colors */
            --color-text-primary: var(--color-plum);
            --color-text-secondary: rgba(42, 23, 59, 0.6);
            --color-text-tertiary: rgba(42, 23, 59, 0.4);
            --color-text-inverse: #ffffff;
            --color-text-inverse-muted: rgba(255, 255, 255, 0.7);

            /* Border Colors */
            --color-border: rgba(42, 23, 59, 0.05);
            --color-border-hover: rgba(42, 23, 59, 0.15);
            --color-border-accent: rgba(212, 175, 55, 0.3);

            /* Status Colors */
            --color-success: #16a34a;
            --color-success-bg: #f0fdf4;
            --color-warning: #ca8a04;
            --color-warning-bg: #fefce8;
            --color-error: #dc2626;
            --color-error-bg: #fef2f2;
            --color-info: #2563eb;
            --color-info-bg: #eff6ff;
        }

        /* Dark Mode */
        html.dark {
            --color-primary: #9333ea;
            --color-primary-hover: #a855f7;
            --color-primary-dark: #7c3aed;
            --color-primary-light: #c084fc;
            --color-accent: #d4af37;
            --color-accent-light: #b8942e;
            --color-accent-hover: #e5c158;
            --color-plum: #f8f7f4;
            --color-plum-light: #e5e4e1;
            --color-plum-muted: rgba(248, 247, 244, 0.6);
            --color-bg-primary: #1a1625;
            --color-bg-secondary: #241e30;
            --color-bg-tertiary: #2d2640;
            --color-bg-sidebar: #13101a;
            --color-bg-card: #241e30;
            --color-text-primary: #f8f7f4;
            --color-text-secondary: rgba(248, 247, 244, 0.7);
            --color-text-tertiary: rgba(248, 247, 244, 0.5);
            --color-text-inverse: #ffffff;
            --color-text-inverse-muted: rgba(255, 255, 255, 0.7);
            --color-border: rgba(255, 255, 255, 0.08);
            --color-border-hover: rgba(255, 255, 255, 0.15);
            --color-border-accent: rgba(212, 175, 55, 0.4);
            --color-success: #22c55e;
            --color-success-bg: rgba(34, 197, 94, 0.15);
            --color-warning: #eab308;
            --color-warning-bg: rgba(234, 179, 8, 0.15);
            --color-error: #ef4444;
            --color-error-bg: rgba(239, 68, 68, 0.15);
            --color-info: #3b82f6;
            --color-info-bg: rgba(59, 130, 246, 0.15);
            color-scheme: dark;
        }

        :root {
            /* Typography */
            --font-display: 'Manrope', system-ui, sans-serif;
            --font-serif: 'Playfair Display', Georgia, serif;

            /* Font Sizes */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;

            /* Font Weights */
            --font-normal: 400;
            --font-medium: 500;
            --font-semibold: 600;
            --font-bold: 700;

            /* Spacing */
            --space-0: 0;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;

            /* Border Radius */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;

            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
            --shadow-card: 0 2px 15px -3px rgba(0, 0, 0, 0.07);

            /* Sizes */
            --sidebar-width: 16rem;
            --sidebar-collapsed-width: 4.5rem;
            --header-height: 4rem;
            --avatar-sm: 1.5rem;
            --avatar-md: 2.5rem;
            --avatar-lg: 3.5rem;

            /* Z-Index */
            --z-modal: 50;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .icon-filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--color-accent);
            border-radius: var(--radius-full);
        }

        .sidebar-transition {
            transition: width 300ms ease, padding 300ms ease;
        }
        .sidebar-collapsed .sidebar-label {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }
        .sidebar-expanded .sidebar-label {
            opacity: 1;
            width: auto;
            transition: opacity 200ms ease 100ms;
        }
        .sidebar-collapsed .sidebar-hideable {
            display: none;
        }
        .sidebar-collapsed .sidebar-collapse-icon {
            transform: rotate(180deg);
        }
        .sidebar-collapsed .sidebar-logo { justify-content: center; padding-left: 0; padding-right: 0; }
        .sidebar-collapsed .sidebar-nav { padding-left: 0.5rem; padding-right: 0.5rem; }
        .sidebar-collapsed .sidebar-nav-item { justify-content: center; padding-left: 0; padding-right: 0; gap: 0; }
        .sidebar-collapsed .sidebar-bottom { padding-left: 0.5rem; padding-right: 0.5rem; }
        .sidebar-collapsed .sidebar-profile { justify-content: center; }
        .sidebar-collapsed .sidebar-collapse-btn { justify-content: center; gap: 0; }
        .sidebar-collapsed .sidebar-collapsed-show { display: flex !important; }
        .theme-btn-active { background: rgba(255, 255, 255, 0.2); }
        .theme-btn-active span { color: var(--color-accent) !important; }

        .modal-backdrop {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': 'var(--color-primary)',
                        'primary-hover': 'var(--color-primary-hover)',
                        'primary-dark': 'var(--color-primary-dark)',
                        'primary-light': 'var(--color-primary-light)',
                        'accent': 'var(--color-accent)',
                        'accent-light': 'var(--color-accent-light)',
                        'accent-hover': 'var(--color-accent-hover)',
                        'plum': 'var(--color-plum)',
                        'plum-light': 'var(--color-plum-light)',
                        'plum-muted': 'var(--color-plum-muted)',
                        'bg-primary': 'var(--color-bg-primary)',
                        'bg-secondary': 'var(--color-bg-secondary)',
                        'bg-tertiary': 'var(--color-bg-tertiary)',
                        'bg-sidebar': 'var(--color-bg-sidebar)',
                        'bg-card': 'var(--color-bg-card)',
                        'text-primary': 'var(--color-text-primary)',
                        'text-secondary': 'var(--color-text-secondary)',
                        'text-tertiary': 'var(--color-text-tertiary)',
                        'text-inverse': 'var(--color-text-inverse)',
                        'text-inverse-muted': 'var(--color-text-inverse-muted)',
                        'border-default': 'var(--color-border)',
                        'border-hover': 'var(--color-border-hover)',
                        'border-accent': 'var(--color-border-accent)',
                        'success': 'var(--color-success)',
                        'success-bg': 'var(--color-success-bg)',
                        'warning': 'var(--color-warning)',
                        'warning-bg': 'var(--color-warning-bg)',
                        'error': 'var(--color-error)',
                        'error-bg': 'var(--color-error-bg)',
                        'info': 'var(--color-info)',
                        'info-bg': 'var(--color-info-bg)',
                    },
                    fontFamily: {
                        'display': 'var(--font-display)',
                        'serif': 'var(--font-serif)',
                    },
                    fontSize: {
                        'xs': 'var(--text-xs)',
                        'sm': 'var(--text-sm)',
                        'base': 'var(--text-base)',
                        'lg': 'var(--text-lg)',
                        'xl': 'var(--text-xl)',
                        '2xl': 'var(--text-2xl)',
                        '3xl': 'var(--text-3xl)',
                        '4xl': 'var(--text-4xl)',
                    },
                    spacing: {
                        'sidebar': 'var(--sidebar-width)',
                        'header': 'var(--header-height)',
                    },
                    borderRadius: {
                        'sm': 'var(--radius-sm)',
                        'DEFAULT': 'var(--radius-md)',
                        'md': 'var(--radius-md)',
                        'lg': 'var(--radius-lg)',
                        'xl': 'var(--radius-xl)',
                        '2xl': 'var(--radius-2xl)',
                        'full': 'var(--radius-full)',
                    },
                    boxShadow: {
                        'sm': 'var(--shadow-sm)',
                        'DEFAULT': 'var(--shadow-md)',
                        'md': 'var(--shadow-md)',
                        'card': 'var(--shadow-card)',
                    },
                    width: {
                        'sidebar': 'var(--sidebar-width)',
                        'sidebar-collapsed': 'var(--sidebar-collapsed-width)',
                        'avatar-sm': 'var(--avatar-sm)',
                        'avatar-md': 'var(--avatar-md)',
                        'avatar-lg': 'var(--avatar-lg)',
                    },
                    height: {
                        'header': 'var(--header-height)',
                        'avatar-sm': 'var(--avatar-sm)',
                        'avatar-md': 'var(--avatar-md)',
                        'avatar-lg': 'var(--avatar-lg)',
                    },
                    zIndex: {
                        'modal': 'var(--z-modal)',
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-bg-primary text-text-primary font-display antialiased overflow-hidden">
    <div class="flex h-screen w-full">
        <!-- Sidebar -->
        <aside id="sidebar" class="hidden lg:flex flex-col w-sidebar bg-bg-sidebar text-text-inverse h-full shrink-0 sidebar-transition sidebar-expanded">
            <!-- Logo (Clickable to toggle) -->
            <div class="sidebar-logo p-6 pb-4 cursor-pointer hover:bg-white/5 transition-colors duration-200 flex items-center gap-3" onclick="toggleSidebar()">
                <span class="material-symbols-outlined text-accent text-3xl shrink-0">verified_user</span>
                <div class="sidebar-label sidebar-hideable">
                    <h1 class="font-serif text-2xl font-bold text-text-inverse">Vetted</h1>
                    <p class="text-text-inverse-muted text-sm mt-1">Know Your Worth</p>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="sidebar-nav flex-1 px-4 py-6 flex flex-col gap-1">
                <a class="sidebar-nav-item flex items-center gap-4 px-4 py-3 rounded-lg text-text-inverse-muted hover:bg-white/5 hover:text-text-inverse transition-all duration-200" href="index.html" title="Profiles">
                    <span class="material-symbols-outlined shrink-0">dashboard</span>
                    <span class="font-medium sidebar-label">Profiles</span>
                </a>
                <a class="sidebar-nav-item flex items-center gap-4 px-4 py-3 rounded-lg text-text-inverse-muted hover:bg-white/5 hover:text-text-inverse transition-all duration-200" href="archives.html" title="Archives">
                    <span class="material-symbols-outlined shrink-0">inventory_2</span>
                    <span class="font-medium sidebar-label">Archives</span>
                </a>
                <a class="sidebar-nav-item flex items-center gap-4 px-4 py-3 rounded-lg bg-white/10 text-text-inverse transition-all duration-200" href="settings.html" title="Settings">
                    <span class="material-symbols-outlined text-accent icon-filled shrink-0">settings</span>
                    <span class="font-medium sidebar-label">Settings</span>
                </a>

                <!-- Divider -->
                <div class="my-4 border-t border-white/10"></div>

                <a class="sidebar-nav-item flex items-center gap-4 px-4 py-3 rounded-lg text-text-inverse-muted hover:bg-white/5 hover:text-text-inverse transition-all duration-200" href="landing.html" title="Landing Page">
                    <span class="material-symbols-outlined shrink-0">home</span>
                    <span class="font-medium sidebar-label">Landing Page</span>
                </a>
            </nav>

            <!-- Bottom Section -->
            <div class="sidebar-bottom p-4 border-t border-white/10">
                <!-- Theme & Collapse Row -->
                <div class="flex items-center justify-between mb-4 sidebar-hideable">
                    <div class="flex items-center gap-1 bg-white/10 rounded-lg p-1">
                        <button onclick="setTheme('light')" id="theme-light" class="w-10 h-10 flex items-center justify-center rounded-md hover:bg-white/10 transition-colors duration-200" title="Light mode">
                            <span class="material-symbols-outlined text-xl text-text-inverse-muted">light_mode</span>
                        </button>
                        <button onclick="setTheme('dark')" id="theme-dark" class="w-10 h-10 flex items-center justify-center rounded-md hover:bg-white/10 transition-colors duration-200" title="Dark mode">
                            <span class="material-symbols-outlined text-xl text-text-inverse-muted">dark_mode</span>
                        </button>
                    </div>
                    <button onclick="toggleSidebar()" class="p-2 rounded-lg hover:bg-white/10 transition-colors duration-200" title="Collapse sidebar">
                        <span class="material-symbols-outlined sidebar-collapse-icon transition-transform duration-300 text-text-inverse-muted hover:text-text-inverse">keyboard_double_arrow_left</span>
                    </button>
                </div>

                <!-- Collapsed state: just collapse icon -->
                <button onclick="toggleSidebar()" class="sidebar-collapse-btn hidden sidebar-collapsed-show w-full flex items-center justify-center py-2 rounded-lg hover:bg-white/10 transition-all duration-200 text-text-inverse-muted hover:text-text-inverse mb-4" title="Expand sidebar">
                    <span class="material-symbols-outlined sidebar-collapse-icon transition-transform duration-300 shrink-0">keyboard_double_arrow_left</span>
                </button>

                <!-- Privacy Note -->
                <div class="sidebar-hideable text-center">
                    <p class="text-xs text-text-inverse-muted flex items-center justify-center gap-1">
                        <span class="material-symbols-outlined text-sm">lock</span>
                        Data stored locally
                    </p>
                </div>
            </div>
        </aside>

        <!-- Sidebar Toggle Script -->
        <script>
            function toggleSidebar() {
                const sidebar = document.getElementById('sidebar');
                const isExpanded = sidebar.classList.contains('sidebar-expanded');

                if (isExpanded) {
                    sidebar.classList.remove('sidebar-expanded', 'w-sidebar');
                    sidebar.classList.add('sidebar-collapsed', 'w-sidebar-collapsed');
                } else {
                    sidebar.classList.remove('sidebar-collapsed', 'w-sidebar-collapsed');
                    sidebar.classList.add('sidebar-expanded', 'w-sidebar');
                }
            }

            // Theme Management
            function setTheme(theme) {
                const html = document.documentElement;

                if (theme === 'dark') {
                    html.classList.remove('light');
                    html.classList.add('dark');
                } else if (theme === 'light') {
                    html.classList.remove('dark');
                    html.classList.add('light');
                } else {
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    html.classList.remove('light', 'dark');
                    html.classList.add(prefersDark ? 'dark' : 'light');
                }

                localStorage.setItem('theme', theme);
                updateThemeButtons(theme);
                updateSidebarThemeButtons(theme);
            }

            function updateSidebarThemeButtons(theme) {
                const lightBtn = document.getElementById('theme-light');
                const darkBtn = document.getElementById('theme-dark');
                if (lightBtn && darkBtn) {
                    lightBtn.classList.remove('theme-btn-active');
                    darkBtn.classList.remove('theme-btn-active');
                    if (theme === 'light') {
                        lightBtn.classList.add('theme-btn-active');
                    } else if (theme === 'dark') {
                        darkBtn.classList.add('theme-btn-active');
                    }
                }
            }

            function updateThemeButtons(theme) {
                const buttons = document.querySelectorAll('[data-theme]');
                buttons.forEach(btn => {
                    if (btn.dataset.theme === theme) {
                        btn.classList.remove('border-border-default');
                        btn.classList.add('border-primary', 'border-2');
                    } else {
                        btn.classList.remove('border-primary', 'border-2');
                        btn.classList.add('border-border-default', 'border');
                    }
                });
            }

            // Initialize theme on page load
            (function() {
                const savedTheme = localStorage.getItem('theme') || 'light';
                setTheme(savedTheme);

                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    if (localStorage.getItem('theme') === 'system') {
                        setTheme('system');
                    }
                });
            })();
        </script>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col h-full overflow-hidden">
            <!-- Scrollable Content -->
            <div class="flex-1 overflow-y-auto p-8">
                <div class="max-w-3xl mx-auto">
                    <!-- Page Header -->
                    <div class="mb-8">
                        <h1 class="font-serif text-4xl font-bold text-text-primary mb-2">Settings</h1>
                        <p class="text-text-secondary">Manage your data and app preferences.</p>
                    </div>

                    <!-- Appearance Section -->
                    <section class="bg-bg-card rounded-2xl border border-border-default p-6 mb-6 shadow-card">
                        <h2 class="font-serif text-xl font-bold text-text-primary mb-6">Appearance</h2>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-text-secondary mb-3">Theme</label>
                                <div class="flex gap-3">
                                    <button data-theme="light" onclick="setTheme('light')" class="flex-1 p-4 bg-bg-tertiary border-2 border-primary rounded-xl text-center transition-colors duration-200">
                                        <span class="material-symbols-outlined text-2xl text-primary mb-2">light_mode</span>
                                        <p class="text-sm font-medium text-text-primary">Light</p>
                                    </button>
                                    <button data-theme="dark" onclick="setTheme('dark')" class="flex-1 p-4 bg-bg-tertiary border border-border-default rounded-xl text-center hover:border-border-hover transition-colors duration-200">
                                        <span class="material-symbols-outlined text-2xl text-text-secondary mb-2">dark_mode</span>
                                        <p class="text-sm font-medium text-text-primary">Dark</p>
                                    </button>
                                    <button data-theme="system" onclick="setTheme('system')" class="flex-1 p-4 bg-bg-tertiary border border-border-default rounded-xl text-center hover:border-border-hover transition-colors duration-200">
                                        <span class="material-symbols-outlined text-2xl text-text-secondary mb-2">devices</span>
                                        <p class="text-sm font-medium text-text-primary">System</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Data Management Section -->
                    <section class="bg-bg-card rounded-2xl border border-border-default p-6 mb-6 shadow-card">
                        <h2 class="font-serif text-xl font-bold text-text-primary mb-2">Data Management</h2>
                        <p class="text-sm text-text-secondary mb-6">Your data is stored locally on this device. Export it to back up or transfer to another device.</p>

                        <div class="space-y-4">
                            <!-- Export Data -->
                            <div class="flex items-center justify-between p-4 bg-bg-tertiary rounded-xl">
                                <div class="flex items-center gap-4">
                                    <div class="h-12 w-12 rounded-full bg-info-bg flex items-center justify-center">
                                        <span class="material-symbols-outlined text-info text-xl">download</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-text-primary">Export Data</p>
                                        <p class="text-sm text-text-tertiary">Download all your profiles as a JSON file</p>
                                    </div>
                                </div>
                                <button onclick="exportData()" class="px-4 py-2 bg-info text-white rounded-lg text-sm font-semibold hover:bg-info/90 transition-colors">
                                    Export
                                </button>
                            </div>

                            <!-- Import Data -->
                            <div class="flex items-center justify-between p-4 bg-bg-tertiary rounded-xl">
                                <div class="flex items-center gap-4">
                                    <div class="h-12 w-12 rounded-full bg-success-bg flex items-center justify-center">
                                        <span class="material-symbols-outlined text-success text-xl">upload</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-text-primary">Import Data</p>
                                        <p class="text-sm text-text-tertiary">Restore profiles from a backup file</p>
                                    </div>
                                </div>
                                <label class="px-4 py-2 bg-success text-white rounded-lg text-sm font-semibold hover:bg-success/90 transition-colors cursor-pointer">
                                    Import
                                    <input type="file" accept=".json" onchange="importData(event)" class="hidden">
                                </label>
                            </div>

                            <!-- Data Stats -->
                            <div class="p-4 bg-bg-tertiary rounded-xl">
                                <div class="flex items-center gap-4 mb-3">
                                    <div class="h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-primary text-xl">storage</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-text-primary">Storage</p>
                                        <p class="text-sm text-text-tertiary" id="storage-info">Calculating...</p>
                                    </div>
                                </div>
                                <div class="grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-border-default">
                                    <div class="text-center">
                                        <p class="text-2xl font-bold text-text-primary" id="active-count">0</p>
                                        <p class="text-xs text-text-tertiary">Active Profiles</p>
                                    </div>
                                    <div class="text-center">
                                        <p class="text-2xl font-bold text-text-primary" id="archived-count">0</p>
                                        <p class="text-xs text-text-tertiary">Archived</p>
                                    </div>
                                    <div class="text-center">
                                        <p class="text-2xl font-bold text-text-primary" id="total-count">0</p>
                                        <p class="text-xs text-text-tertiary">Total</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Privacy Section -->
                    <section class="bg-bg-card rounded-2xl border border-border-default p-6 mb-6 shadow-card">
                        <h2 class="font-serif text-xl font-bold text-text-primary mb-2">Privacy</h2>
                        <p class="text-sm text-text-secondary mb-6">Your privacy is our priority.</p>

                        <div class="space-y-4">
                            <div class="flex items-start gap-3 p-4 bg-success-bg rounded-xl">
                                <span class="material-symbols-outlined text-success text-xl mt-0.5">check_circle</span>
                                <div>
                                    <p class="font-medium text-success">100% Local Storage</p>
                                    <p class="text-sm text-text-secondary">All your data is stored only on your device. Nothing is sent to any server.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-4 bg-success-bg rounded-xl">
                                <span class="material-symbols-outlined text-success text-xl mt-0.5">check_circle</span>
                                <div>
                                    <p class="font-medium text-success">No Tracking</p>
                                    <p class="text-sm text-text-secondary">No analytics, no cookies, no tracking of any kind.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-4 bg-success-bg rounded-xl">
                                <span class="material-symbols-outlined text-success text-xl mt-0.5">check_circle</span>
                                <div>
                                    <p class="font-medium text-success">No Account Required</p>
                                    <p class="text-sm text-text-secondary">Use the app without creating an account or sharing any personal information.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Danger Zone -->
                    <section class="bg-error-bg rounded-2xl border border-error/20 p-6 mb-6">
                        <h2 class="font-serif text-xl font-bold text-error mb-2">Danger Zone</h2>
                        <p class="text-sm text-text-secondary mb-4">This action cannot be undone. All your profiles and data will be permanently deleted.</p>
                        <button onclick="clearAllData()" class="px-5 py-2.5 bg-error text-white rounded-xl text-sm font-semibold hover:bg-error/90 transition-colors duration-200 flex items-center gap-2">
                            <span class="material-symbols-outlined text-lg">delete_forever</span>
                            Clear All Data
                        </button>
                    </section>

                    <!-- About Section -->
                    <section class="bg-bg-card rounded-2xl border border-border-default p-6 shadow-card">
                        <h2 class="font-serif text-xl font-bold text-text-primary mb-4">About Vetted</h2>
                        <p class="text-text-secondary text-sm mb-4">A focused relationship vetting tool to help you evaluate potential partners objectively.</p>
                        <div class="flex items-center gap-4 text-sm text-text-tertiary">
                            <span class="flex items-center gap-1">
                                <span class="material-symbols-outlined text-base">code</span>
                                Version 1.0.0
                            </span>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>

    <!-- Confirm Modal -->
    <div id="confirm-modal" class="fixed inset-0 z-modal hidden">
        <div class="modal-backdrop absolute inset-0" onclick="closeConfirmModal()"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-bg-card rounded-2xl shadow-xl w-full max-w-md p-6 relative">
                <h2 class="font-serif text-xl font-bold text-text-primary mb-2" id="confirm-title">Confirm Action</h2>
                <p class="text-text-secondary text-sm mb-6" id="confirm-message">Are you sure?</p>
                <div class="flex gap-3">
                    <button onclick="closeConfirmModal()" class="flex-1 px-4 py-3 bg-bg-tertiary text-text-primary rounded-xl font-semibold hover:bg-border-hover transition-colors">
                        Cancel
                    </button>
                    <button onclick="confirmAction()" id="confirm-btn" class="flex-1 px-4 py-3 bg-error text-white rounded-xl font-semibold hover:bg-error/90 transition-colors">
                        Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings JavaScript -->
    <script type="module">
        import { Store } from './src/js/store.js';

        let pendingAction = null;

        // Update storage stats
        function updateStorageStats() {
            const profiles = Store.getProfiles(true);
            const archived = Store.getArchivedProfiles();
            const active = profiles.length - archived.length;

            document.getElementById('active-count').textContent = active;
            document.getElementById('archived-count').textContent = archived.length;
            document.getElementById('total-count').textContent = profiles.length;

            // Calculate storage size
            const data = Store.exportData();
            const bytes = new Blob([data]).size;
            const kb = (bytes / 1024).toFixed(1);
            document.getElementById('storage-info').textContent = `${kb} KB used in localStorage`;
        }

        // Export data
        window.exportData = function() {
            const data = Store.exportData();
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `vetted-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        };

        // Import data
        window.importData = function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const success = Store.importData(e.target.result);
                if (success) {
                    alert('Data imported successfully!');
                    updateStorageStats();
                } else {
                    alert('Failed to import data. Please check the file format.');
                }
            };
            reader.readAsText(file);
            event.target.value = '';
        };

        // Clear all data
        window.clearAllData = function() {
            pendingAction = () => {
                Store.clearAllData();
                updateStorageStats();
                alert('All data has been cleared.');
            };
            document.getElementById('confirm-title').textContent = 'Clear All Data';
            document.getElementById('confirm-message').textContent = 'This will permanently delete all your profiles and cannot be undone. Are you sure?';
            document.getElementById('confirm-modal').classList.remove('hidden');
        };

        window.closeConfirmModal = function() {
            document.getElementById('confirm-modal').classList.add('hidden');
            pendingAction = null;
        };

        window.confirmAction = function() {
            if (pendingAction) {
                pendingAction();
                pendingAction = null;
            }
            closeConfirmModal();
        };

        // Initialize
        updateStorageStats();
    </script>
</body>
</html>
